<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Rubí Jiménez">
<meta name="dcterms.date" content="2025-09-23">

<title>Combining Q-Learning with Bootstrap</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="Bootstrap-QLearning_files/libs/clipboard/clipboard.min.js"></script>
<script src="Bootstrap-QLearning_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Bootstrap-QLearning_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Bootstrap-QLearning_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="Bootstrap-QLearning_files/libs/quarto-html/popper.min.js"></script>
<script src="Bootstrap-QLearning_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Bootstrap-QLearning_files/libs/quarto-html/anchor.min.js"></script>
<link href="Bootstrap-QLearning_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Bootstrap-QLearning_files/libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Bootstrap-QLearning_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Bootstrap-QLearning_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Bootstrap-QLearning_files/libs/bootstrap/bootstrap-9e3ffae467580fdb927a41352e75a2e0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Combining Q-Learning with Bootstrap</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Rubí Jiménez </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 23, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="taller-explorando-el-bootstrap-en-machine-learning" class="level1">
<h1>Taller: <em>Explorando el bootstrap en Machine Learning</em></h1>
<p><strong>Tema aplicado:</strong> ¿Es posible combinar bootstrap y Q-learning para mejorar el desempeño en un juego de laberinto 6×6 (tipo Pac-Man)?</p>
<hr>
<section id="preliminares" class="level2">
<h2 class="anchored" data-anchor-id="preliminares">Preliminares</h2>
<section id="qué-es-bootstrap" class="level3">
<h3 class="anchored" data-anchor-id="qué-es-bootstrap">¿Qué es Bootstrap?</h3>
<p>Bootstrap es un <strong>método estadístico de remuestreo</strong>. La idea principal es:</p>
<ul>
<li>Dado un conjunto de datos (D) de tamaño (n), generamos <strong>muestras nuevas</strong> de tamaño (n) tomando datos <strong>al azar con reemplazo</strong>.<br>
</li>
<li>Esto significa que en cada muestra, algunos datos se pueden repetir y otros pueden no aparecer.<br>
</li>
<li>Cada muestra se llama <strong>bootstrap sample</strong>.</li>
</ul>
<p>El propósito principal de esta técnica es estimar la variabilidad de las predicciones o los parámetros de un modelo utilizando solo los datos disponibles.</p>
<hr>
</section>
<section id="q-learning" class="level3">
<h3 class="anchored" data-anchor-id="q-learning">Q-Learning</h3>
<section id="definición" class="level4">
<h4 class="anchored" data-anchor-id="definición">1. Definición</h4>
<p>Algoritmo de <strong>aprendizaje por refuerzo</strong> donde un agente aprende a maximizar la <strong>recompensa acumulada</strong> mediante una función de valor de acción (Q(s,a)).</p>
</section>
<section id="elementos" class="level4">
<h4 class="anchored" data-anchor-id="elementos">2. Elementos</h4>
<ul>
<li><strong>Agente</strong>: quien aprende.<br>
</li>
<li><strong>Entorno</strong>: mundo con el que interactúa.<br>
</li>
<li><strong>Estado (s)</strong>: situación actual.<br>
</li>
<li><strong>Acción (a)</strong>: decisión posible.<br>
</li>
<li><strong>Recompensa (r)</strong>: retroalimentación.<br>
</li>
<li><strong>Política (π)</strong>: estrategia que indica qué acción elegir en cada estado.</li>
</ul>
</section>
<section id="función-q" class="level4">
<h4 class="anchored" data-anchor-id="función-q">3. Función Q</h4>
<p><span class="math inline">\(Q(s,a)\)</span></p>
<ul>
<li>Estima el valor esperado de tomar (a) en (s).<br>
</li>
<li>(<span class="math inline">\(\gamma\)</span>): factor de descuento.</li>
</ul>
</section>
<section id="actualización" class="level4">
<h4 class="anchored" data-anchor-id="actualización">4. Actualización</h4>
<p><span class="math display">\[Q(s,a) \leftarrow Q(s,a) + \alpha \Big[ r + \gamma \max_{a'} Q(s',a') - Q(s,a) \Big]\]</span></p>
<ul>
<li>(<span class="math inline">\(\alpha\)</span>): tasa de aprendizaje.<br>
</li>
<li>(r): recompensa inmediata.<br>
</li>
<li>(s’): nuevo estado.</li>
</ul>
</section>
<section id="políticas-y-exploración-vs-explotación" class="level4">
<h4 class="anchored" data-anchor-id="políticas-y-exploración-vs-explotación">5. Políticas y Exploración vs Explotación</h4>
<ul>
<li><strong>Política (π):</strong> Secuencia de acciones que maximizan a (Q(s,a)) a partir de un estado inicial dado.<br>
</li>
<li>En Q-Learning se usa comúnmente la <strong>política ε-greedy</strong>:
<ul>
<li>Con prob. (ε): elegir una acción aleatoria (explorar).<br>
</li>
<li>Con prob. (1-ε): elegir la mejor acción conocida según Q (explotar).</li>
</ul></li>
</ul>
</section>
<section id="algoritmo" class="level4">
<h4 class="anchored" data-anchor-id="algoritmo">6. Algoritmo</h4>
<ol type="1">
<li>Inicializar todos los valores <span class="math inline">\(Q(s,a)\)</span> en cero.<br>
</li>
<li>Repetir por episodios:
<ul>
<li>Estado inicial (s).<br>
</li>
<li>Mientras no sea terminal:
<ol type="1">
<li>Elegir acción (a) con la política ε-greedy.<br>
</li>
<li>Ejecutar (a), observar recompensa (r) y nuevo estado (s’).<br>
</li>
<li>Actualizar <span class="math inline">\(Q(s,a)\)</span> con la regla de aprendizaje.<br>
</li>
<li>Pasar al siguiente estado: (s s’).</li>
</ol></li>
</ul></li>
<li>Repetir hasta que la política converja (ocurre cuando, después de suficientes episodios, los valores (Q(s,a)) dejan de cambiar de manera significativa.).</li>
</ol>
<hr>
</section>
</section>
</section>
<section id="parte-a-fundamentos" class="level2">
<h2 class="anchored" data-anchor-id="parte-a-fundamentos">Parte A: Fundamentos</h2>
<section id="re-muestreo-con-reemplazo" class="level3">
<h3 class="anchored" data-anchor-id="re-muestreo-con-reemplazo">1. Re-muestreo con reemplazo</h3>
<ul>
<li>Considera una secuencia de recompensas obtenidas en episodios de entrenamiento: <code>{+1, 0, −1}</code>.<br>
</li>
<li>A continuación se generan manualmente algunos remuestreos de tamaño 3 con reemplazo.<br>
</li>
<li>Finalmente, se calcula la media de cada remuestreo.</li>
</ul>
<div id="2" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Ejemplo en Julia using Random</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Random</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Statistics</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">Random</span>.<span class="fu">seed!</span>(<span class="fl">1234</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="fl">1</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">1</span>] </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">3</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span> </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  sample <span class="op">=</span> <span class="fu">rand</span>(data, n) </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">println</span>(<span class="st">"bootstrap sample: "</span>, sample, <span class="st">" Media: "</span>, <span class="fu">mean</span>(sample)) </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>bootstrap sample: [1, 0, 1] Media: 0.6666666666666666
bootstrap sample: [-1, 0, 0] Media: -0.3333333333333333
bootstrap sample: [-1, -1, 0] Media: -0.6666666666666666
bootstrap sample: [-1, 0, -1] Media: -0.6666666666666666
bootstrap sample: [1, 1, 0] Media: 0.6666666666666666</code></pre>
</div>
</div>
<p><strong>Interpretación:</strong> En este caso el agente no tiene un comportamiento claramente “bueno” o “malo” aún; su rendimiento varía bastante según los episodios que se consideren.</p>
</section>
<section id="intervalos-de-confianza-bootstrap" class="level3">
<h3 class="anchored" data-anchor-id="intervalos-de-confianza-bootstrap">2. Intervalos de confianza bootstrap</h3>
<ul>
<li>Enseguida se realiza la simulación de los resultados de 20 episodios de un agente.</li>
<li>Se calcula la media.</li>
<li>Posteriormente, se genera 1000 remuestreos bootstrap y se contruye un intervalo de confianza.</li>
</ul>
<div id="6" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Random</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Statistics</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Random</span>.<span class="fu">seed!</span>(<span class="fl">1234</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulación de 20 recompensas acumuladas</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>recompensas <span class="op">=</span> <span class="fu">rand</span>(<span class="op">-</span><span class="fl">5</span><span class="op">:</span><span class="fl">15</span>, <span class="fl">20</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>media_obs <span class="op">=</span> <span class="fu">mean</span>(recompensas)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Bootstrap</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fl">1000</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>boot_means <span class="op">=</span> [<span class="fu">mean</span>(<span class="fu">rand</span>(recompensas, <span class="fu">length</span>(recompensas))) for _ <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>B] <span class="co">#contiene las 1000 medias bootstrap.</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Intervalo de confianza 95%</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>ic_low <span class="op">=</span> <span class="fu">quantile</span>(boot_means, <span class="fl">0.025</span>)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>ic_high <span class="op">=</span> <span class="fu">quantile</span>(boot_means, <span class="fl">0.975</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar media observada y IC</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"Media observada: "</span>, media_obs)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"IC 95%: ("</span>, ic_low, <span class="st">", "</span>, ic_high, <span class="st">")"</span>)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Gráfico ---</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="fu">histogram</span>(</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    boot_means,</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    bins <span class="op">=</span> <span class="fl">30</span>,</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    xlabel <span class="op">=</span> <span class="st">"Medias Bootstrap"</span>,</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    ylabel <span class="op">=</span> <span class="st">"Frecuencia"</span>,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> <span class="st">"Distribución de medias Bootstrap"</span>,</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    legend <span class="op">=</span> <span class="cn">false</span>,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    alpha <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    color <span class="op">=</span> <span class="op">:</span>skyblue</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Añadir líneas para media observada y el intervalo de confianza</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="fu">vline!</span>([media_obs], color<span class="op">=:</span>red, lw<span class="op">=</span><span class="fl">2</span>, label<span class="op">=</span><span class="st">"Media observada"</span>)</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="fu">vline!</span>([ic_low, ic_high], color<span class="op">=:</span>green, lw<span class="op">=</span><span class="fl">2</span>, linestyle<span class="op">=:</span>dash, label<span class="op">=</span><span class="st">"IC 95%"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Media observada: 6.85
IC 95%: (4.5, 9.15125)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="1">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoUAAAHMCAIAAAAs9EW6AAAABmJLR0QA/wD/AP+gvaeTAAAgAElEQVR4nOzdd1xTV/8H8JNFQlhhCcgSEQeIIsUq7gGOukCctGittnXUX61UO2yt1TpaO7T1aa2rouKuddS9AOsEXLgVBGSoLFlJSEju74/7NM0TInWEe6L5vP/wlZyce/JN7pVP7uYxDEMAAACAKj7tAgBeBseOHfv4449Pnz5NuxAAeFEhj+Gx5HJ51t9yc3PLysrq6axWq/v37//RRx81UDGFhYX9+/f/5ptvdC1ffvllZGTkgwcPGugd9e3du7d///6HDx82+mpubu7w4cPPnj37yiuvNFwNP/74Y2Rk5O3btxvuLRrOzJkzIyMjFQoF+/TixYv9+/dPSEho6PctKCjI0lNSUtLQ7wjwzJDH8FjJycn+f/P19XVychIIBK1atZowYcLJkycNOms0mgMHDpw5c+YJB3/48OHHH3+8ZcuWJ+xfXV194MCBixcv6louX7585MgRpVL5hCM8j9zc3AMHDuTl5dV9Sa1Wjxo1yt3d/Y8//rCysmq4Gm7cuHHkyJHKysqGe4uGc/78+SNHjmg0GvZpcXHxgQMHbt261dDvO2rUKH89Li4uNjY2Xbp02bt3bwO947fffvvFF1887VSJiYkff/xx/T954aUnpF0AmLvmzZtHR0ezjx88eJCamrp69erVq1fHxsauXr1aIpGwLwmFwvj4eH9//ycctqSk5Ouvv46Lixs5cuST9Hd0dIyPjw8NDX2Gj/D8QkJC4uPjW7duXfeljz76KDs7+8yZMzKZjPvCXlC+vr7x8fFdu3bl5u3Gjh3r7u5OCFGpVFevXj18+PCgQYO2bdsWExNj8vdauXJlYWHhl19++VRT7dy5c/v27RMnTnR0dDR5SfCiQB7Dv2jduvWiRYv0W06dOjV27NiNGzcyDLNx40a2USgUfvvttw1XhrOzc4OOX7/w8PDw8HCjL02dOvWzzz5zcnLiuKQXWkBAAJdz87333gsLC9M9XbZs2dSpUxcvXtwQeQzwzJDH8NQ6dep06NChtm3bbtq0aerUqWxQaTSaRYsW+fr6vvHGG7qe586d27hx4927d7Varaura1hYWHR0tIeHx5kzZ7Zt20YIuXLlytdff812joqKatGixaVLlw4cONC3b19PT89ff/01LS2NELJz586ysrKff/65devWQ4YMMajn3Llza9asyc7O9vDwiIuL69Wrl+6lkpKSVatWtW7desCAAfqTrF69ury8fPr06fqNeXl5CQkJFy5ckMvlbm5uXbp0GTp0KLu+cv78+f379w8aNKhNmza6/lVVVatXrz558mRFRYWXl1dUVNTAgQP1B9ywYUN+fn58fPzFixdXrlyZk5Pj7u4+evTovn37/uuXXF5evmzZsjNnzgiFwq5du7777rtGu1VVVSUkJJw4caK0tNTT03Pw4MFRUVE8Hq+ekffv33/58uVx48YVFxf/+uuvt2/fdnNze/vttzt16kQIuXPnzvLly69fvy6TycaMGVO31IqKirVr1548ebKsrMzLyys6OnrgwIEG71hQUPDjjz9mZGTY2Nj07dv3zTffNBgkOzs7MTGxS5cu3bt3132QQ4cOpaSk5ObmKpXKJk2aDB06NCIiwmDCkydPbtmyJTs7mxDi6ur66quvRkdHN2rUqN7v0lBMTMzUqVNzc3MN2m/fvv3bb79duXKFYZiWLVu++eabQUFBBn2KiopWrVqVmprKFjlq1Khu3bqxLxUXF69evbq0tFSlUumWat2yV1lZuWbNmvT09Pv37zs7O/v6+kZERLAfcPHixTdv3iSELF++nF3e3Nzc2C9t2bJlfD5/8uTJ+/fv37p1a0FBwaRJk6KiohQKxbFjx44dO5aTk1NdXe3t7T1o0CCDGZGSknL69OkRI0ao1erly5ffvHnT3t4+Ojp6+PDh9S8hQA0D8Bj79u0jhAwdOtToq1OnTiWE/N///R/7lD1Up1u3broOs2bNIoRIJJJ27dp16NCB3WD4ww8/MAzzww8/2NvbE0KsrKwc/7Z7926GYVasWEEImTlzpoeHB5/P9/HxsbW1ZRiGPY5p9OjRuvGHDh1KCPnqq68EAkHz5s1fffVVkUhECJk7d66uz/Xr1wkhY8eONSi+devWUqlUv2XDhg3stnc/P7927dq5uLgQQubPn8+++vPPPxNC1qxZo+t/8+ZNHx8fQkjjxo1DQ0Otra0JITExMSqVStenc+fOhJCff/5ZIBA4Ozv7+fmxfweXL19e/zefl5fXtGlTQoiXl1fHjh3t7OzatGnz+uuvE0LS09N13S5duuTl5UUIcXFxadu2ra2tLSEkOjparVbXM/j48eMJId988421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">
</div>
</div>
<section id="resultados-del-bootstrap." class="level4">
<h4 class="anchored" data-anchor-id="resultados-del-bootstrap.">Resultados del Bootstrap.</h4>
<p>A partir de la simulación de recompensas acumuladas, la media observada (6.85) es nuestra mejor estimación puntual del desempeño del agente. Sin embargo, el intervalo de confianza bootstrap muestra que el valor real de la media podría estar entre <strong>4.5 y 9.15</strong> con un 95% de confianza.</p>
<p>El intervalo moderadamente amplio encontrado refleja que el desempeño todavía depende bastante de la muestra de episodios observados.</p>
</section>
</section>
<section id="bootstrap-y-validación-del-q-learning." class="level3">
<h3 class="anchored" data-anchor-id="bootstrap-y-validación-del-q-learning.">3. Bootstrap y validación del Q-learning.</h3>
<p>Implementación de Q-learning básico en un laberinto 6×6:</p>
<ul>
<li>Estados = posiciones.</li>
<li>Acciones = mover arriba/abajo/izquierda/derecha.</li>
</ul>
<p>Para mayor facilidad de la interpretación, defina al laberinto como una matriz de 6×6, se construira un escenario en el cual el inicio está en la posición (1,1) y la salida (meta) en la posición (6,6) además de tener varios obstaculos.</p>
<p>El objetivo es encontrar un recorrido óptimo para llegar a la salida del laberinto.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ImagenesBootstrap/Laberinto.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Laberinto 6x6</figcaption>
</figure>
</div>
<section id="implementación-de-q-learning-en-julia" class="level4">
<h4 class="anchored" data-anchor-id="implementación-de-q-learning-en-julia">Implementación de Q-Learning en Julia:</h4>
<div id="8" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Random</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">DataFrames</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Statistics</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Definición del laberinto</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>maze <span class="op">=</span> [</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="fl">1</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>;</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>   <span class="op">-</span><span class="fl">1</span> <span class="op">-</span><span class="fl">1</span> <span class="op">-</span><span class="fl">1</span> <span class="op">-</span><span class="fl">1</span> <span class="op">-</span><span class="fl">1</span>  <span class="fl">0</span>;</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>;</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0</span> <span class="op">-</span><span class="fl">1</span> <span class="op">-</span><span class="fl">1</span> <span class="op">-</span><span class="fl">1</span> <span class="op">-</span><span class="fl">1</span> <span class="op">-</span><span class="fl">1</span>;</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>;</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">0</span>  <span class="fl">2</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Funciones auxiliares</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">state_index</span>(i,j)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (i<span class="op">-</span><span class="fl">1</span>)<span class="op">*</span><span class="fl">6</span> <span class="op">+</span> (j<span class="op">-</span><span class="fl">1</span>) <span class="op">+</span> <span class="fl">1</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">find_start</span>(maze)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> maze[i,j] <span class="op">==</span> <span class="fl">1</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> (i,j)</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>actions <span class="op">=</span> <span class="fu">Dict</span>(<span class="fl">1</span> <span class="op">=&gt;</span> (<span class="op">-</span><span class="fl">1</span>,<span class="fl">0</span>), <span class="fl">2</span> <span class="op">=&gt;</span> (<span class="fl">1</span>,<span class="fl">0</span>), <span class="fl">3</span> <span class="op">=&gt;</span> (<span class="fl">0</span>,<span class="op">-</span><span class="fl">1</span>), <span class="fl">4</span> <span class="op">=&gt;</span> (<span class="fl">0</span>,<span class="fl">1</span>)) <span class="co"># Arriba, Abajo, Izq, Der</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">step</span>(state, action, maze)</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    i, j <span class="op">=</span> state</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    di, dj <span class="op">=</span> actions[action]</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    ni, nj <span class="op">=</span> i<span class="op">+</span>di, j<span class="op">+</span>dj</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> ni <span class="op">&lt;</span> <span class="fl">1</span> <span class="op">||</span> ni <span class="op">&gt;</span> <span class="fl">6</span> <span class="op">||</span> nj <span class="op">&lt;</span> <span class="fl">1</span> <span class="op">||</span> nj <span class="op">&gt;</span> <span class="fl">6</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> state, <span class="op">-</span><span class="fl">10</span>, <span class="cn">true</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elseif</span> maze[ni,nj] <span class="op">==</span> <span class="op">-</span><span class="fl">1</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> state, <span class="op">-</span><span class="fl">10</span>, <span class="cn">true</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elseif</span> maze[ni,nj] <span class="op">==</span> <span class="fl">2</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> (ni,nj), <span class="fl">10</span>, <span class="cn">true</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> (ni,nj), <span class="op">-</span><span class="fl">1</span>, <span class="cn">false</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Q-learning</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">qlearning</span>(maze; episodes<span class="op">=</span><span class="fl">2000</span>, α<span class="op">=</span><span class="fl">0.1</span>, γ<span class="op">=</span><span class="fl">0.9</span>, ε<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>    Q <span class="op">=</span> <span class="fu">zeros</span>(<span class="fl">36</span>,<span class="fl">4</span>)</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>    rewards <span class="op">=</span> []</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> ep <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>episodes</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>        state <span class="op">=</span> <span class="fu">find_start</span>(maze)</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>        total_reward <span class="op">=</span> <span class="fl">0</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>        done <span class="op">=</span> <span class="cn">false</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> !done</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>            s_idx <span class="op">=</span> <span class="fu">state_index</span>(state<span class="op">...</span>)</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>            <span class="co"># ε-greedy</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="fu">rand</span>() <span class="op">&lt;</span> ε</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>                a <span class="op">=</span> <span class="fu">rand</span>(<span class="fl">1</span><span class="op">:</span><span class="fl">4</span>)</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>                a <span class="op">=</span> <span class="fu">argmax</span>(Q[s_idx,<span class="op">:</span>])</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>            <span class="cf">end</span></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>            new_state, r, done <span class="op">=</span> <span class="fu">step</span>(state, a, maze)</span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>            ns_idx <span class="op">=</span> <span class="fu">state_index</span>(new_state<span class="op">...</span>)</span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>            Q[s_idx,a] <span class="op">=</span> Q[s_idx,a] <span class="op">+</span> <span class="fu">α*</span>(r <span class="op">+</span> <span class="fu">γ*maximum</span>(Q[ns_idx,<span class="op">:</span>]) <span class="op">-</span> Q[s_idx,a])</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>            state <span class="op">=</span> new_state</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>            total_reward <span class="op">+=</span> r</span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>        <span class="fu">push!</span>(rewards, total_reward)</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> Q, rewards</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulación de recorrido óptimo</span></span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">simulate_policy</span>(Q, maze; max_steps<span class="op">=</span><span class="fl">50</span>)</span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>    state <span class="op">=</span> <span class="fu">find_start</span>(maze)</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>    path <span class="op">=</span> [state]</span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>    done <span class="op">=</span> <span class="cn">false</span></span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>    steps <span class="op">=</span> <span class="fl">0</span></span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> !done <span class="op">&amp;&amp;</span> steps <span class="op">&lt;</span> max_steps</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>        s_idx <span class="op">=</span> <span class="fu">state_index</span>(state<span class="op">...</span>)</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>        a <span class="op">=</span> <span class="fu">argmax</span>(Q[s_idx,<span class="op">:</span>])   <span class="co"># política fija</span></span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>        state, _, done <span class="op">=</span> <span class="fu">step</span>(state, a, maze)</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>        <span class="fu">push!</span>(path, state)</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>        steps <span class="op">+=</span> <span class="fl">1</span></span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> path</span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulación de recompensas</span></span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">simulate_rewards</span>(Q, maze; episodes<span class="op">=</span><span class="fl">100</span>, max_steps<span class="op">=</span><span class="fl">50</span>)</span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>    rewards <span class="op">=</span> []</span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> ep <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>episodes</span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>        state <span class="op">=</span> <span class="fu">find_start</span>(maze)</span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>        total_reward <span class="op">=</span> <span class="fl">0</span></span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>        done <span class="op">=</span> <span class="cn">false</span></span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>        steps <span class="op">=</span> <span class="fl">0</span></span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> !done <span class="op">&amp;&amp;</span> steps <span class="op">&lt;</span> max_steps</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>            s_idx <span class="op">=</span> <span class="fu">state_index</span>(state<span class="op">...</span>)</span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>            a <span class="op">=</span> <span class="fu">argmax</span>(Q[s_idx,<span class="op">:</span>])</span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>            state, r, done <span class="op">=</span> <span class="fu">step</span>(state, a, maze)</span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>            total_reward <span class="op">+=</span> r</span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>            steps <span class="op">+=</span> <span class="fl">1</span></span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>        <span class="fu">push!</span>(rewards, total_reward)</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> rewards</span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimir recorrido en laberinto</span></span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">print_path</span>(maze, path)</span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">copy</span>(maze)</span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i,j) <span class="kw">in</span> path</span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> m[i,j] <span class="op">==</span> <span class="fl">0</span></span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>            m[i,j] <span class="op">=</span> <span class="fl">9</span>   <span class="co"># marcar recorrido</span></span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a>    <span class="fu">println</span>(<span class="st">"Laberinto recorrido (9 = camino):"</span>)</span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>    <span class="fu">display</span>(m)</span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a><span class="co"># Bootstrap sobre recompensas</span></span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">bootstrap</span>(data; B<span class="op">=</span><span class="fl">1000</span>)</span>
<span id="cb5-141"><a href="#cb5-141" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">length</span>(data)</span>
<span id="cb5-142"><a href="#cb5-142" aria-hidden="true" tabindex="-1"></a>    medias <span class="op">=</span> [<span class="fu">mean</span>(<span class="fu">rand</span>(data, n)) for _ <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>B]</span>
<span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> medias</span>
<span id="cb5-144"><a href="#cb5-144" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb5-145"><a href="#cb5-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-146"><a href="#cb5-146" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-147"><a href="#cb5-147" aria-hidden="true" tabindex="-1"></a><span class="co"># Entrenamiento y evaluación</span></span>
<span id="cb5-148"><a href="#cb5-148" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------</span></span>
<span id="cb5-149"><a href="#cb5-149" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"=== Entrenando en Maze ==="</span>)</span>
<span id="cb5-150"><a href="#cb5-150" aria-hidden="true" tabindex="-1"></a>Q, rewards_train <span class="op">=</span> <span class="fu">qlearning</span>(maze, episodes<span class="op">=</span><span class="fl">3000</span>)</span>
<span id="cb5-151"><a href="#cb5-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-152"><a href="#cb5-152" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir Q a DataFrame</span></span>
<span id="cb5-153"><a href="#cb5-153" aria-hidden="true" tabindex="-1"></a>acciones_n <span class="op">=</span> [<span class="st">"Arriba"</span>,<span class="st">"Abajo"</span>,<span class="st">"Izquierda"</span>,<span class="st">"Derecha"</span>]</span>
<span id="cb5-154"><a href="#cb5-154" aria-hidden="true" tabindex="-1"></a>df_Q <span class="op">=</span> <span class="fu">DataFrame</span>(Q, <span class="op">:</span>auto)</span>
<span id="cb5-155"><a href="#cb5-155" aria-hidden="true" tabindex="-1"></a><span class="fu">rename!</span>(df_Q, <span class="fu">Symbol</span>.(acciones_n))</span>
<span id="cb5-156"><a href="#cb5-156" aria-hidden="true" tabindex="-1"></a>df_Q.State <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu">size</span>(Q,<span class="fl">1</span>)</span>
<span id="cb5-157"><a href="#cb5-157" aria-hidden="true" tabindex="-1"></a>df_Q <span class="op">=</span> <span class="fu">select</span>(df_Q, [<span class="op">:</span>State, <span class="op">:</span>Arriba, <span class="op">:</span>Abajo, <span class="op">:</span>Izquierda, <span class="op">:</span>Derecha])</span>
<span id="cb5-158"><a href="#cb5-158" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Q-table final:"</span>)</span>
<span id="cb5-159"><a href="#cb5-159" aria-hidden="true" tabindex="-1"></a><span class="fu">show</span>(df_Q, allrows<span class="op">=</span><span class="cn">true</span>, allcols<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>=== Entrenando en Maze ===

Q-table final:
<span class="ansi-bold">36×5 DataFrame</span>
<span class="ansi-bold"> Row </span>│<span class="ansi-bold"> State </span><span class="ansi-bold"> Arriba     </span><span class="ansi-bold"> Abajo      </span><span class="ansi-bold"> Izquierda   </span><span class="ansi-bold"> Derecha    </span>
<span class="ansi-bold">     </span>│<span class="ansi-bright-black-fg"> Int64 </span><span class="ansi-bright-black-fg"> Float64    </span><span class="ansi-bright-black-fg"> Float64    </span><span class="ansi-bright-black-fg"> Float64     </span><span class="ansi-bright-black-fg"> Float64    </span>
─────┼────────────────────────────────────────────────────────
   1 │     1  -17.3516    -17.336     -17.3357      -8.11051
   2 │     2  -17.1791    -17.1743     -8.36932     -7.89178
   3 │     3  -16.9524    -16.9697     -8.20565     -7.6455
   4 │     4  -16.7297    -16.7363     -7.98312     -7.3698
   5 │     5  -16.5281    -16.5002     -7.76025     -7.05295
   6 │     6  -16.2118     -6.69498    -7.47098    -16.1863
   7 │     7    0.0         0.0         0.0          0.0
   8 │     8    0.0         0.0         0.0          0.0
   9 │     9    0.0         0.0         0.0          0.0
  10 │    10    0.0         0.0         0.0          0.0
  11 │    11    0.0         0.0         0.0          0.0
  12 │    12   -7.17667    -6.28842   -15.8061     -15.8017
  13 │    13  -11.3645     -2.05753   -10.4034      -4.13271
  14 │    14  -12.7271    -12.6027     -3.144       -4.95938
  15 │    15  -13.8372    -13.0321     -3.98014     -5.48607
  16 │    16  -14.5142    -14.4526     -4.70254     -5.96548
  17 │    17  -15.0068    -14.9318     -5.2992      -6.48754
  18 │    18   -6.77461   -15.4225     -5.82897    -15.4237
  19 │    19   -3.50098    -0.776719   -8.93904    -10.8824
  20 │    20    0.0         0.0         0.0          0.0
  21 │    21    0.0         0.0         0.0          0.0
  22 │    22    0.0         0.0         0.0          0.0
  23 │    23    0.0         0.0         0.0          0.0
  24 │    24    0.0         0.0         0.0          0.0
  25 │    25   -2.75989    -2.45698    -7.588        0.735377
  26 │    26   -8.06438    -1.07873    -2.13428      2.35784
  27 │    27   -7.07447     4.13753    -0.59469     -0.696025
  28 │    28   -4.68546     0.170869   -0.652559     1.4391
  29 │    29   -2.59331     5.62562    -0.296592    -0.19
  30 │    30   -1.0         0.0        -0.0192964    0.0
  31 │    31   -1.93809    -4.47039    -5.11888     -0.828446
  32 │    32   -1.37133    -6.66657    -1.64061      2.77985
  33 │    33    0.824104   -3.91609    -0.34001      5.99016
  34 │    34   -0.692426   -3.17995     1.20316      7.92567
  35 │    35    0.857253   -1.40331     0.408108     9.98939
  36 │    36    0.0         0.0         0.0          0.0</pre>
</div>
</div>
</div>
<p>Se espera que el agente elija en cada estado, la acción con mayor valor Q (valores más altos indican que la acción es más prometedora i.e.&nbsp;más probable de llevar al objetivo con buena recompensa). Lo anterior define la política (estrategia) que el agente sigue para tener un recorrido óptimo.</p>
<p>Con la ayuda de la tabla Q, se tiene que el recorrido óptimo es el siguiente:</p>
<div id="10" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simular recorrido óptimo</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>path_opt <span class="op">=</span> <span class="fu">simulate_policy</span>(Q, maze) <span class="co">#Sigue la politica obtenida</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Recorrido óptimo del agente:"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(path_opt)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Recorrido óptimo del agente:
[(1, 1), (1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (2, 6), (3, 6), (3, 5), (3, 4)  …  (3, 2), (3, 1), (4, 1), (5, 1), (5, 2), (5, 3), (6, 3), (6, 4), (6, 5), (6, 6)]</code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ImagenesBootstrap/Recorrido.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Laberinto 6x6</figcaption>
</figure>
</div>
<p>Al seguir esa trayectoria, el agente obtendrá una recompensa promedio de:</p>
<div id="12" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Evaluar política con recompensas reales</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>rewards_eval <span class="op">=</span> <span class="fu">simulate_rewards</span>(Q, maze, episodes<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Recompensa promedio (evaluación): "</span>, <span class="fu">mean</span>(rewards_eval))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Recompensa promedio (evaluación): -9.0</code></pre>
</div>
</div>
<p>Obtener un promedio de -9.0, por como se implemento el Q-Learning, nos indica que la recompensa resulta ser bastante buena y que el agente encontro un recorrido óptimo (el cual fue previamente visto).</p>
</section>
<section id="implementación-de-bootstrap-sobre-las-recompensas." class="level4">
<h4 class="anchored" data-anchor-id="implementación-de-bootstrap-sobre-las-recompensas.">Implementación de Bootstrap sobre las recompensas.</h4>
<p>A continuación se ejecutan 50 episodios completos, en cada paso, el agente elige la mejor acción según la Q-table, se guardan las recompensas acumuladas por episodio</p>
<p>Lo siguiente simula la incertidumbre de la política sin necesidad de más entrenamiento. Con las recompensas obtenidas al seguir la tabla Q, se hacen 1000 remuestreos bootstrap y a cada una se le calcula la media, cada media representa cómo podría variar la recompensa promedio si el agente jugara “otra muestra” de episodios.</p>
<p>Por último se obtiene un intervalo de confianza.</p>
<div id="16" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bootstrap</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>boot_means <span class="op">=</span> <span class="fu">bootstrap</span>(rewards_eval, B<span class="op">=</span><span class="fl">1000</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>ic_low, ic_high <span class="op">=</span> <span class="fu">quantile</span>(boot_means, [<span class="fl">0.025</span>, <span class="fl">0.975</span>])</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Intervalo de confianza 95% para la media de recompensas:"</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">println</span>(<span class="st">" ["</span>, <span class="fu">round</span>(ic_low,digits<span class="op">=</span><span class="fl">2</span>), <span class="st">" , "</span>, <span class="fu">round</span>(ic_high,digits<span class="op">=</span><span class="fl">2</span>), <span class="st">"]"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Intervalo de confianza 95% para la media de recompensas:
 [-9.0 , -9.0]</code></pre>
</div>
</div>
<p>Interpretación: si repitiéramos 50 episodios muchas veces, la media de recompensa caería dentro de [-9.0 , -9.0] el 95% de las veces. ¿Por qué pasa esto? esto se debe a que la política es determinista (argmax(Q)), y desde la posición inicial siempre tomará el mismo camino.</p>
<p>Como se pudo observar, aplicar bootstrap sobre recompensas de Q-learning con política determinista no es muy informativo. Sin embargo, sigue siendo un buen ejercicio conceptual, porque muestra cómo bootstrap refleja la incertidumbre real.</p>
<p>Lo que si se puede concluir gracias al Bootstrap, es que el agente logra llegar a la meta consistentemente, obteniendo siempre una recompensa de -9 por episodio. Esto indica que la política aprendida es estable.</p>
</section>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>